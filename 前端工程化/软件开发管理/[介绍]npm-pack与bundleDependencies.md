# `npm pack` æŒ‡ä»¤ ä¸ `bundleDependencies`


## **`npm pack`**

#### **ä½¿ç”¨**

`npm pack` æ˜¯ä¸€ä¸ªæ‰“åŒ…æŒ‡ä»¤ğŸ“¦ ï¼Œä¸åŒäºwebpacké‚£ç§æ‰“åŒ…ï¼Œ`npm pack` ä½¿ç”¨ _**tarball**_ å·¥å…·ğŸ”§å°†æ•´ä¸ªæ–‡ä»¶å¤¹æ‰“åŒ…æˆä¸€ä¸ªå•ç‹¬çš„tarballæ–‡ä»¶ï¼ˆä»¥`.tgz`åšåç¼€ï¼‰ã€‚

> tarballï¼Œä¸€ç§åœ¨ linux ä¸Šç”¨äºç®¡ç†å’Œå¤‡ä»½ä¸€ç»„æ–‡ä»¶çš„å·¥å…·ã€‚å¯ä»¥é€šè¿‡`tar`å‘½ä»¤è¿›è¡Œä½¿ç”¨tarballï¼Œå¯ä»¥å°†ä¸€ç»„æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªäºŒè¿›åˆ¶çš„æ–‡ä»¶ï¼ˆæœ‰æ—¶ä¼šå‹ç¼©æ–‡ä»¶ï¼‰ï¼Œæ‰“åŒ…åçš„æ–‡ä»¶æ ¼å¼åé€šå¸¸ä¸º`.tar`\\`.tgz`ç­‰ï¼Œå¯ä»¥é€šè¿‡`tar -x`è¿›è¡Œè§£åŒ…ã€‚

å¯ä»¥é€šè¿‡ `npm install <tarball file>`  æˆ– `npm install <tarball url>` æŒ‡ä»¤å®‰è£…é€šè¿‡`npm pack`æ‰“åŒ…çš„tarballæ–‡ä»¶ã€‚


## **bundleDependencies**

#### **ä½¿ç”¨**

[bundleDependencies](https://docs.npmjs.com/cli/v6/configuring-npm/package-json#bundleddependencies) æ˜¯ä¸€ä¸ªåœ¨package.json ä¸­çš„é…ç½®ï¼Œå®ƒå…è®¸ä½ ä»¥æ•°ç»„çš„å½¢å¼å£°æ˜ä¸€ç»„ä¾èµ–é¡¹ã€‚

```json
{
  "bundleDependencies": ["redux"]
}
```

#### **å·¥ä½œåŸç†**

ä¸åŒäº`dependencies`é…ç½®ï¼Œ`bundleDependencies`å£°æ˜çš„æ˜¯æ‰“åŒ…æ—¶ï¼ˆ`npm pack`ï¼‰çš„ä¾èµ–ã€‚ä»¥ä¸Šé¢çš„é…ç½®ä¸ºä¾‹ï¼Œnpmä¼šå°†`node_modules/redux`ä¸€èµ·æ‰“åŒ…ï¼Œå½“å…¶ä»–ç”¨æˆ·å®‰è£…è¿™ä¸ªtarballæ–‡ä»¶æ—¶ï¼Œä¹Ÿå°±åŒæ—¶å®‰è£…äº†è¿™ä¸ª`redux`ï¼Œç›®å‰çœ‹èµ·æ¥å¥½åƒè·Ÿ`dependencies`æ²¡æœ‰å¤ªå¤šå®é™…ä¸Šçš„åŒºåˆ«ã€‚

#### **åº”ç”¨åœºæ™¯**

- å½“æˆ‘ä»¬å¯¹ä¸€ä¸ªä¾èµ–çš„ç¬¬ä¸‰æ–¹åŒ…åšäº†æœ¬åœ°çš„ä¿®æ”¹ï¼Œä¸æ˜¯é€šè¿‡fork å®ƒçš„ä»£ç ï¼Œä¿®æ”¹ï¼Œç„¶åæäº¤prï¼Œè¿™ä¸€å¥—æµç¨‹ï¼Œå°±å¯ä»¥åœ¨é¡¹ç›®ä¸­é€šè¿‡`bundleDependencies`å£°æ˜è¿™ä¸ªåŒ…ï¼Œç„¶åé€šè¿‡`npm pack`æŠŠæˆ‘ä»¬çš„ä»£ç è·Ÿè¢«ä¿®æ”¹çš„ç¬¬ä¸‰æ–¹åŒ…ä¸€èµ·æ‰“åŒ…å¹¶å‘å¸ƒã€‚

- `bundleDependencies`å¯ä»¥è®©æˆ‘ä»¬å°†ç¬¬ä¸‰æ–¹ä¾èµ–ç›´æ¥ä¸æˆ‘ä»¬çš„ä»£ç ä¸€èµ·æ‰“åŒ…å¹¶å®‰è£…ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯ä¸€ç§æœ‰æ•ˆçš„é”å®šä¾èµ–ç‰ˆæœ¬çš„æ–¹æ³•ã€‚







[npm-pack]: (https://docs.npmjs.com/cli/v6/commands/npm-pack) 